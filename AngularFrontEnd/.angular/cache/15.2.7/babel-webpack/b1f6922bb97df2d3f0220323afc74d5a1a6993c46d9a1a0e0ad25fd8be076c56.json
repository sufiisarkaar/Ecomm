{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AddToCartComponent = class AddToCartComponent {\n  constructor(IS, toaster) {\n    this.IS = IS;\n    this.toaster = toaster;\n  }\n  ngOnInit() {\n    this.cartData();\n  }\n  plusQuantity(id, qty) {\n    let user = localStorage.getItem('user');\n    let userId = user && JSON.parse(user).data.id;\n    if (userId) {\n      if (qty < 9) {\n        qty++;\n        this.IS.updateCartQuantityPlus(id, qty).subscribe(res => {\n          this.cartData();\n        }, err => {});\n      }\n    } else {\n      if (qty < 9) {\n        qty++;\n        this.IS.LocalupdateCartQuantityPlus(id, qty).subscribe(res => {\n          this.cartData();\n        }, err => {});\n      }\n    }\n  }\n  minusQuantity(id, qty) {\n    let user = localStorage.getItem('user');\n    let userId = user && JSON.parse(user).data.id;\n    if (userId) {\n      if (qty > 0) {\n        qty--;\n        this.IS.updateCartQuantityMinus(id, qty).subscribe(res => {\n          this.cartData();\n          if (qty == 0) {\n            localStorage.removeItem(\"MyItems\");\n          }\n        }, err => {});\n      }\n    } else {\n      if (qty > 0) {\n        qty--;\n        this.IS.LocalupdateCartQuantityMinus(id, qty).subscribe(res => {\n          this.cartData();\n        }, err => {});\n      }\n    }\n  }\n  cartData() {\n    let user = localStorage.getItem('user');\n    let userId = user && JSON.parse(user).data.id;\n    if (userId) {\n      this.IS.getCartDataByUserID(userId).subscribe(res => {\n        this.cartList = res.data;\n        this.cartCount = res.data.length;\n        this.grandTotal = res.grandTotal;\n      });\n    } else {\n      this.IS.getLocalData().subscribe(res => {\n        this.cartList = res.data;\n        this.grandTotal = res.grandTotal;\n      });\n    }\n  }\n};\nAddToCartComponent = __decorate([Component({\n  selector: 'app-add-to-cart',\n  templateUrl: './add-to-cart.component.html',\n  styleUrls: ['./add-to-cart.component.scss']\n})], AddToCartComponent);\nexport { AddToCartComponent };","map":{"version":3,"mappings":"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","names":["Component","AddToCartComponent","constructor","IS","toaster","ngOnInit","cartData","plusQuantity","id","qty","user","localStorage","getItem","userId","JSON","parse","data","updateCartQuantityPlus","subscribe","res","err","LocalupdateCartQuantityPlus","minusQuantity","updateCartQuantityMinus","removeItem","LocalupdateCartQuantityMinus","getCartDataByUserID","cartList","cartCount","length","grandTotal","getLocalData","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\PILR\\Desktop\\AngularWithLaravelAPI\\AngularFrontEnd\\src\\app\\components\\add-to-cart\\add-to-cart.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { ItemServiceService } from 'src/app/services/item-service.service';\n\n@Component({\n  selector: 'app-add-to-cart',\n  templateUrl: './add-to-cart.component.html',\n  styleUrls: ['./add-to-cart.component.scss']\n})\nexport class AddToCartComponent implements OnInit {\n  cartList: any;\n  quantity: any;\n  grandTotal: any;\n\n  constructor(private IS: ItemServiceService, private toaster:Toas) { }\n\n  ngOnInit() {\n    this.cartData();\n  }\n\n  plusQuantity(id: any, qty: any) {\n    let user = localStorage.getItem('user');\n    let userId = user && JSON.parse(user).data.id;\n    if (userId) {\n      if (qty < 9) {\n        qty++;\n        this.IS.updateCartQuantityPlus(id, qty).subscribe((res: any) => {\n          this.cartData();\n          \n        }, (err) => {\n        })\n      }\n    } else {\n      if (qty < 9) {\n        qty++;\n        this.IS.LocalupdateCartQuantityPlus(id, qty).subscribe((res: any) => {\n          this.cartData();\n        }, (err) => {\n        })\n\n      }\n    }\n  }\n\n\n  minusQuantity(id: any, qty: any) {\n    let user = localStorage.getItem('user');\n    let userId = user && JSON.parse(user).data.id;\n    if (userId) {\n      if (qty > 0) {\n        qty--;\n        this.IS.updateCartQuantityMinus(id, qty).subscribe((res: any) => {\n          this.cartData();\n          if (qty == 0) {\n            localStorage.removeItem(\"MyItems\");\n          }\n        }, (err) => {\n        })\n      }\n    } else {\n      if (qty > 0) {\n        qty--;\n        this.IS.LocalupdateCartQuantityMinus(id, qty).subscribe((res: any) => {\n          this.cartData();\n        }, (err) => {\n        })\n      }\n    }\n  }\n\n  cartCount: any;\n\n  cartData() {\n    let user = localStorage.getItem('user');\n    let userId = user && JSON.parse(user).data.id;\n    if (userId) {\n      this.IS.getCartDataByUserID(userId).subscribe((res: any) => {\n        this.cartList = res.data;\n        this.cartCount = res.data.length;\n        this.grandTotal = res.grandTotal;\n      });\n    } else {\n      this.IS.getLocalData().subscribe((res: any) => {\n        this.cartList = res.data;\n        this.grandTotal = res.grandTotal;\n      })\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}